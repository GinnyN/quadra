{"ast":null,"code":"var _jsxFileName = \"/Users/ximena.contreras/Desktop/test/quadra/src/grid/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Cell from \"./cell\";\nimport style from \"./style.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Grid = _ref => {\n  _s();\n\n  let {\n    map\n  } = _ref;\n  const [cells, setCells] = useState([]);\n  const [playerActive, setPlayerActive] = useState({});\n  useEffect(() => {\n    const cells = [];\n\n    for (let x = 0; x < 10; x++) {\n      for (let y = 0; y < 10; y++) {\n        if (map[`${x}${y}`]) cells.push({\n          x,\n          y,\n          activated: false,\n          ...map[`${x}${y}`]\n        });else cells.push({\n          x,\n          y,\n          player: false,\n          activated: false,\n          usable: true\n        });\n      }\n    }\n\n    setCells(cells);\n  }, []);\n\n  const toggleCells = _ref2 => {\n    let {\n      x,\n      y\n    } = _ref2;\n    const temp = [...cells];\n\n    if (playerActive.x === x && playerActive.y === y) {\n      temp[10 * x - 1 + y].activated = false;\n      temp[10 * x + 1 + y].activated = false;\n      temp[10 * (x - 1) + y].activated = false;\n      temp[10 * (x + 1) + y].activated = false;\n      setPlayerActive({});\n    } else {\n      if (playerActive.x) {\n        const {\n          x,\n          y\n        } = playerActive;\n        temp[10 * x - 1 + y].activated = false;\n        temp[10 * x + 1 + y].activated = false;\n        temp[10 * (x - 1) + y].activated = false;\n        temp[10 * (x + 1) + y].activated = false;\n      }\n\n      if (!temp[10 * x - 1 + y].player) temp[10 * x - 1 + y].activated = true;\n      if (!temp[10 * x + 1 + y].player) temp[10 * x + 1 + y].activated = true;\n      if (!temp[10 * (x - 1) + y].player) temp[10 * (x - 1) + y].activated = true;\n      if (!temp[10 * (x + 1) + y].player) temp[10 * (x + 1) + y].activated = true;\n      setPlayerActive({\n        x,\n        y\n      });\n    }\n\n    setCells(temp);\n  };\n\n  const movePlayer = _ref3 => {\n    let {\n      x,\n      y\n    } = _ref3;\n    const temp = [...cells];\n    temp[10 * x + y].player = true;\n    temp[10 * playerActive.x + playerActive.y].player = false;\n    temp[10 * playerActive.x - 1 + playerActive.y].activated = false;\n    temp[10 * playerActive.x + 1 + playerActive.y].activated = false;\n    temp[10 * (playerActive.x - 1) + playerActive.y].activated = false;\n    temp[10 * (playerActive.x + 1) + playerActive.y].activated = false;\n    setCells(temp);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.gridSetting,\n    children: cells.map(item => /*#__PURE__*/_jsxDEV(Cell, {\n      onClick: toggleCells,\n      onMove: movePlayer,\n      x: item.x,\n      y: item.y,\n      player: item.player,\n      activated: item.activated,\n      usable: item.usable\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 29\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Grid, \"NyhlUCSGdRmNxv++WLxCf62C9ao=\");\n\n_c = Grid;\nexport default Grid;\n\nvar _c;\n\n$RefreshReg$(_c, \"Grid\");","map":{"version":3,"sources":["/Users/ximena.contreras/Desktop/test/quadra/src/grid/index.js"],"names":["React","useEffect","useState","Cell","style","Grid","map","cells","setCells","playerActive","setPlayerActive","x","y","push","activated","player","usable","toggleCells","temp","movePlayer","gridSetting","item"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\"\nimport Cell from \"./cell\"\nimport style  from \"./style.module.css\"\n\nconst Grid = ({ map } ) => {\n\n    const [cells, setCells] = useState([]);\n    const [playerActive, setPlayerActive] = useState({});\n    \n    useEffect (() => {\n        const cells = [];\n        for(let x = 0; x < 10; x++) {\n            for(let y = 0; y < 10; y++) {\n                if(map[`${x}${y}`]) cells.push({x, y, activated: false, ...map[`${x}${y}`]  });\n                else cells.push({x, y, player: false, activated: false, usable: true });\n            }\n        }\n        setCells(cells);\n    }, []);\n\n    const toggleCells = ({x, y}) => {\n        const temp = [...cells];\n        if(playerActive.x === x && playerActive.y === y) {\n            temp[(10*x)-1+y].activated = false;\n            temp[(10*x)+1+y].activated = false;\n            temp[(10*(x-1))+y].activated = false;\n            temp[(10*(x+1))+y].activated = false;\n            setPlayerActive({});\n        } else {\n            if(playerActive.x) {\n                const {x, y} = playerActive;\n                temp[(10*x)-1+y].activated = false;\n                temp[(10*x)+1+y].activated = false;\n                temp[(10*(x-1))+y].activated = false;\n                temp[(10*(x+1))+y].activated = false;\n            }\n            if(!temp[(10*x)-1+y].player) temp[(10*x)-1+y].activated = true;\n            if(!temp[(10*x)+1+y].player) temp[(10*x)+1+y].activated = true;\n            if(!temp[(10*(x-1))+y].player)temp[(10*(x-1))+y].activated = true;\n            if(!temp[(10*(x+1))+y].player) temp[(10*(x+1))+y].activated = true;\n            setPlayerActive({x, y});\n        }\n        setCells(temp);\n    };\n\n    const movePlayer = ({x, y}) => {\n        const temp = [...cells];\n        temp[10*x + y].player = true;\n        temp[10*playerActive.x + playerActive.y].player = false;\n        temp[(10*playerActive.x)-1+playerActive.y].activated = false;\n        temp[(10*playerActive.x)+1+playerActive.y].activated = false;\n        temp[(10*(playerActive.x-1))+playerActive.y].activated = false;\n        temp[(10*(playerActive.x+1))+playerActive.y].activated = false;\n        setCells(temp);\n    }\n\n    return <div className={style.gridSetting}>\n       {cells.map((item) => <Cell \n            onClick={toggleCells}\n            onMove={movePlayer}\n            x={item.x} \n            y={item.y} \n            player={item.player}\n            activated={item.activated}\n            usable={item.usable}\n        />)}   \n    </div>;\n}\n\nexport default Grid;"]},"metadata":{},"sourceType":"module"}